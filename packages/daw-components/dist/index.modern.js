import*as e from"react";import t,{createContext as n,useContext as r,useState as o,useEffect as l,useRef as a}from"react";import{Console as s,Hook as i,Unhook as c}from"console-feed";import u from"react-graph-vis";import d from"react-scroll-to-bottom";import{IoCloseSharp as m,IoChevronDownSharp as h,IoChevronForwardSharp as p}from"react-icons/io5";import{Mosaic as f}from"react-mosaic-component";import"react-mosaic-component/react-mosaic-component.css";import g from"react-modal";var b={control:"_controls-module__control__2KdU5",button:"_controls-module__button__K0yRO",buttonIsPrimary:"_controls-module__buttonIsPrimary__19N1f",buttonIsNarrow:"_controls-module__buttonIsNarrow__1Il21",select:"_controls-module__select__R_PdI"};function _({children:e=null,type:n="",className:r="",flex:o=1}){return t.createElement("div",{style:{flex:o},className:[b.control,b[n],r].join(" ")},e)}function y({color:e=null,children:n=null,onClick:r=(()=>{}),narrow:o=!1,primary:l=!1}){return t.createElement(_,{type:"button",flex:"none",className:[l?b.buttonIsPrimary:"",o?b.buttonIsNarrow:""].join(" ")},t.createElement("button",{onClick:r,style:{color:e||"inherit"}},n))}const v={debug:["log","debug","info","warn","error"],info:["info","warn","error"],warn:["warn","error"],error:["error"]},k=n({});function w(){return r(k)}function E(){return E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E.apply(this,arguments)}var C={keyboard:"_keyboard-module__keyboard__2X93m",octave:"_keyboard-module__octave__1X5E0",keys:"_keyboard-module__keys__30WgH",keysAreWhite:"_keyboard-module__keysAreWhite__1Rdoe",keysAreBlack:"_keyboard-module__keysAreBlack__RXNPq",key:"_keyboard-module__key__1KRd0",keyIsBlack:"_keyboard-module__keyIsBlack__1AVBx",keyIsWhite:"_keyboard-module__keyIsWhite__1Cgln",keyIsPressed:"_keyboard-module__keyIsPressed__6g8rc",keyIsHighlighted:"_keyboard-module__keyIsHighlighted__219QE",keyIsTonic:"_keyboard-module__keyIsTonic__2BeBL"};function M({alias:e,octave:n,note:r,color:l,scale:a,playOnHover:s,emitter:i,onPlayNote:c}){const[u,d]=o(!1),[m,h]=o(!1),p=a.tonic===r||a.tonic===e,f="chromatic"!==a.type&&(a.includes(r)||a.includes(e));function g(){c({note:`${r}${n}`}),h(!0)}function b(){h(!1)}function _(){h(!0),setTimeout(b,500)}return u||(i.on(`play:${r.toLowerCase()}${n}`,_),e&&i.on(`play:${e.toLowerCase()}${n}`,_),d(!0)),t.createElement("div",{onMouseEnter:function(){s&&g()},onMouseLeave:b,onMouseDown:g,onMouseUp:b,className:[C.key,m?C.keyIsPressed:"",f?C.keyIsHighlighted:"",p?C.keyIsTonic:"","white"===l?C.keyIsWhite:C.keyIsBlack].join(" ")},t.createElement("div",null),t.createElement("label",null,r,n))}function I({color:e,children:n}){return t.createElement("div",{className:[C.keys,"white"===e?C.keysAreWhite:C.keysAreBlack].join(" ")},n)}function P(e){return t.createElement(M,E({color:"white"},e))}function N(e){return t.createElement(M,E({color:"black"},e))}function x(e){return t.createElement(I,{color:"white"},["B","A","G","F","E","D","C"].map(n=>t.createElement(P,E({key:n,note:n},e))))}function j(e){return t.createElement(I,{color:"black"},[["A#","Bb"],["G#","Ab"],["F#","Gb"],["D#","Eb"],["C#","Db"]].map(n=>t.createElement(N,E({key:n[0],note:n[0],alias:n[1]},e))))}function $(e){return t.createElement("div",{className:C.octave},t.createElement(x,e),t.createElement(j,e))}function O({height:e="10px",percentComplete:n=1}){return t.createElement("div",{className:"_loading-module__loadingBar__3bPEj",style:{height:e}},t.createElement("div",{style:{width:100*(1-n)+"%"}}))}var B={panels:"_panels-module__panels__jNFcn",panelsAreVertical:"_panels-module__panelsAreVertical__26vYe",panelsAreHorizontal:"_panels-module__panelsAreHorizontal__13HBC",panel:"_panels-module__panel__1jdP2",panelHeader:"_panels-module__panelHeader__Vq_g-",panelContent:"_panels-module__panelContent__390lq",panelMask:"_panels-module__panelMask__39LLA",panelIsTransparent:"_panels-module__panelIsTransparent__3lNJL",panelFilter:"_panels-module__panelFilter__3n3gq",panelFilterRow:"_panels-module__panelFilterRow__3w_rI"};function L({label:e="Panel",onClose:n=(()=>{}),sticky:r=!1}){return t.createElement("div",{className:B.panelHeader},r?"":t.createElement("span",null,t.createElement("a",{onClick:n},t.createElement(m,null))),e)}function T({children:e,noscroll:n,streaming:r}){return r?t.createElement(d,{className:B.panelContent},e):t.createElement("div",{className:B.panelContent,style:{overflowY:n?"hidden":"auto"}},e)}function A({children:e=null}){return t.createElement("div",{className:B.panelFilter},e)}function S(){return t.createElement("div",{className:B.panelMask},t.createElement(O,{height:7}))}var R={menu:"_menu-module__menu__332E-",item:"_menu-module__item__2Bvg1",dropdown:"_menu-module__dropdown__1NZ_L",dropdownIsActive:"_menu-module__dropdownIsActive__1UGSx",dropdownItem:"_menu-module__dropdownItem__5MA2i",dropdownItemIsDisabled:"_menu-module__dropdownItemIsDisabled__24PhY",dropdownDivider:"_menu-module__dropdownDivider__3ZhCZ",dropdownHeader:"_menu-module__dropdownHeader__vSB7u",dropdownMask:"_menu-module__dropdownMask__DIH_T",dropdownMaskIsActive:"_menu-module__dropdownMaskIsActive__1MXDw"};function D({children:e=null,active:n=!1}){return t.createElement("div",{className:[R.dropdown,n?R.dropdownIsActive:""].join(" ")},e)}function G({active:e=!1,onClick:n=(()=>{})}){return t.createElement("div",{className:[R.dropdownMask,e?R.dropdownMaskIsActive:""].join(" "),onClick:n})}function H({href:e=null,label:n=null,tooltip:r=null,children:o=null,dropdown:l=null,active:a=!1,onClick:s=(()=>!0)}){return t.createElement("div",{onClick:s,className:[R.item].join(" ")},o||t.createElement("a",{title:r},n,t.createElement(h,null)),l?t.createElement(D,{active:a},l()):"")}var W={tree:"_tree-module__tree__3gFj6",treeGroup:"_tree-module__treeGroup__2vJFp",treeGroupItems:"_tree-module__treeGroupItems__1yLzZ",treeGroupIsOpen:"_tree-module__treeGroupIsOpen__1sLtc",treeItem:"_tree-module__treeItem__3xJaG",treeItemIcon:"_tree-module__treeItemIcon__27PnI",treeItemLabel:"_tree-module__treeItemLabel__PrF0t",treeItemDescription:"_tree-module__treeItemDescription__3tesW",treeItemActions:"_tree-module__treeItemActions__v25RM"};function F({label:e="Item",description:n=null,icon:r=(()=>{}),onClick:o=(()=>{}),actions:l=(()=>{})}){return t.createElement("div",{className:W.treeItem,onClick:o},t.createElement("span",{className:W.treeItemIcon},r()),t.createElement("span",{className:W.treeItemLabel},e),t.createElement("span",{className:W.treeItemDescription},n),t.createElement("span",{className:W.treeItemActions},l()))}function q({children:e=null}){return t.createElement("div",{className:W.treeGroupItems},e)}var U={modal:"_modal-module__modal__2ps5T",modalTitleBar:"_modal-module__modalTitleBar__3ueJa",modalContent:"_modal-module__modalContent__1EIhr",modalIndicator:"_modal-module__modalIndicator__23gI-",dialog:"_modal-module__dialog__LRaHM",dialogTitle:"_modal-module__dialogTitle__1HdZk",dialogText:"_modal-module__dialogText__2sQ9h",dialogActions:"_modal-module__dialogActions__1cuq7",dialogActionsMask:"_modal-module__dialogActionsMask__2fkC4",dialogError:"_modal-module__dialogError__nz4VZ"};function z({height:e="auto",children:n="Modal",blocking:r=!1,open:o=!0,working:l=!1,workingPercentComplete:a=1,className:s="",title:i="Heads Up",onRequestClose:c=(()=>{}),padding:u=20}){const d=!r&&!l;return t.createElement(g,{isOpen:o,onRequestClose:d?c:()=>{},ariaHideApp:!1,shouldCloseOnOverlayClick:d,shouldCloseOnEsc:d,className:["ReactModal__Content",U.modal,l?U.modalIsWorking:"",s].join(" "),style:{overlay:{backgroundColor:"rgba(0, 0, 0, 0.75)",zIndex:1e3},content:{height:e,width:"700px"}}},t.createElement("div",{className:U.modalTitleBar},t.createElement("a",{onClick:c},t.createElement(m,null)),i),t.createElement("div",{className:U.modalContent,style:{padding:u}},n),l?t.createElement("div",{className:U.modalIndicator},t.createElement(O,{percentComplete:a})):"")}function V({working:e=!1,workingPercentComplete:n=1,title:r="Dialog",text:o="Text",error:l=null,onRequestClose:a=(()=>{}),buttons:s=[{label:"OK",onClick:()=>{}}]}){return t.createElement(z,{onRequestClose:a,className:U.dialog,working:e,workingPercentComplete:n},t.createElement("div",{className:U.dialogTitle},r),t.createElement("div",{className:U.dialogText},o),t.createElement("div",{className:U.dialogActions},s.map(e=>t.createElement(y,E({key:e.label},e),e.label)),e?t.createElement("div",{className:U.dialogActionsMask}):""),l?t.createElement("div",{className:U.dialogError},l):"")}function K({value:e="",onChange:n=(()=>{})}){const[r,l]=o(e);async function a({target:e}){const t=e.innerText;e.blur(),l(t),n(t)}return t.createElement("span",{className:"_editable-module__editable__3BrVx",contentEditable:!0,suppressContentEditableWarning:!0,onKeyDown:async function(e){"Enter"!==e.code&&"Escape"!==e.code||a(e)},onBlur:async function(e){a(e)},onFocus:async function(e){}},r)}class X{get length(){return this.records.length}get all(){return this.records.concat([])}get foreignKey(){return this.definition.foreignKey}constructor({obj:e,type:t,records:n,property:r,definition:o}){this.obj=e,this.type=t,this.records=n,this.property=r,this.definition=o}add(e){return this.records.push(e),e}at(e){return this.records[e]}first(){return this.at(0)}last(){return this.at(this.length-1)}bucketizeByProperty(e,{emptyBucket:t=null}={}){return this.records.reduce((n,r)=>{const o=void 0===r[e]&&t?t:r[e];return n[o]=n[o]||[],n[o].push(r),n},{})}async create(e={}){const t=this.add(await this.type.create(Object.assign({[this.foreignKey]:this.obj},e)));return await this.obj.save(),t}async destroy(e){const t=this.records.indexOf(e);return await e.destroy(),t>-1&&this.records.splice(t,1),this.obj.save()}async load(){console.log(this.type)}async find(e){return this.type.find(e,obj.storage)}getByName(e){return this.filterByProperty("name",e)[0]}getByProperty(e,t){return this.filterByProperty(e,t)[0]}filterByProperty(e,t){return this.filter(n=>n[e]===t)}map(e){return this.records.map(e)}forEach(e){this.records.map(e)}filter(e){return this.records.filter(e)}reduce(e,t){return this.records.reduce(e,t)}async mapParallel(e){return async function(e,t){return Promise.all(e.map((e,n)=>t(e,n)))}(this.all,e)}async mapSeries(e){return async function(e,t){const n=[];for(let r=0;r<e.length;r+=1)n.push(await t(e[r],r));return n}(this.all,e)}}const Y={};class Z extends Error{static extend({name:e=null,code:t=null}){var n,r;return Y[t]=(r=n=class extends(this){},n.code=t,n.name=e,r)}static async rescue(e,t){try{return e()}catch(e){e instanceof this&&t(e)}}get name(){return this.contructor.name}get code(){return this.contructor.code}constructor(e){super(e)}}Z.extend.bind(Z);var J={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};const Q={};for(const e of Object.keys(J))Q[J[e]]=e;const ee={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var te=ee;for(const e of Object.keys(ee)){if(!("channels"in ee[e]))throw new Error("missing channels property: "+e);if(!("labels"in ee[e]))throw new Error("missing channel labels property: "+e);if(ee[e].labels.length!==ee[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:t,labels:n}=ee[e];delete ee[e].channels,delete ee[e].labels,Object.defineProperty(ee[e],"channels",{value:t}),Object.defineProperty(ee[e],"labels",{value:n})}function ne(e,t){return function(n){return t(e(n))}}function re(e,t){const n=[t[e].parent,e];let r=te[t[e].parent][e],o=t[e].parent;for(;t[o].parent;)n.unshift(t[o].parent),r=ne(te[t[o].parent][o],r),o=t[o].parent;return r.conversion=n,r}ee.rgb.hsl=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,o=Math.min(t,n,r),l=Math.max(t,n,r),a=l-o;let s,i;l===o?s=0:t===l?s=(n-r)/a:n===l?s=2+(r-t)/a:r===l&&(s=4+(t-n)/a),s=Math.min(60*s,360),s<0&&(s+=360);const c=(o+l)/2;return i=l===o?0:c<=.5?a/(l+o):a/(2-l-o),[s,100*i,100*c]},ee.rgb.hsv=function(e){let t,n,r,o,l;const a=e[0]/255,s=e[1]/255,i=e[2]/255,c=Math.max(a,s,i),u=c-Math.min(a,s,i),d=function(e){return(c-e)/6/u+.5};return 0===u?(o=0,l=0):(l=u/c,t=d(a),n=d(s),r=d(i),a===c?o=r-n:s===c?o=1/3+t-r:i===c&&(o=2/3+n-t),o<0?o+=1:o>1&&(o-=1)),[360*o,100*l,100*c]},ee.rgb.hwb=function(e){const t=e[0],n=e[1];let r=e[2];const o=ee.rgb.hsl(e)[0],l=1/255*Math.min(t,Math.min(n,r));return r=1-1/255*Math.max(t,Math.max(n,r)),[o,100*l,100*r]},ee.rgb.cmyk=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,o=Math.min(1-t,1-n,1-r);return[100*((1-t-o)/(1-o)||0),100*((1-n-o)/(1-o)||0),100*((1-r-o)/(1-o)||0),100*o]},ee.rgb.keyword=function(e){const t=Q[e];if(t)return t;let n,r=Infinity;for(const t of Object.keys(J)){const a=((o=e)[0]-(l=J[t])[0])**2+(o[1]-l[1])**2+(o[2]-l[2])**2;a<r&&(r=a,n=t)}var o,l;return n},ee.keyword.rgb=function(e){return J[e]},ee.rgb.xyz=function(e){let t=e[0]/255,n=e[1]/255,r=e[2]/255;return t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,[100*(.4124*t+.3576*n+.1805*r),100*(.2126*t+.7152*n+.0722*r),100*(.0193*t+.1192*n+.9505*r)]},ee.rgb.lab=function(e){const t=ee.rgb.xyz(e);let n=t[0],r=t[1],o=t[2];return n/=95.047,r/=100,o/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,o=o>.008856?o**(1/3):7.787*o+16/116,[116*r-16,500*(n-r),200*(r-o)]},ee.hsl.rgb=function(e){const t=e[0]/360,n=e[1]/100,r=e[2]/100;let o,l,a;if(0===n)return a=255*r,[a,a,a];o=r<.5?r*(1+n):r+n-r*n;const s=2*r-o,i=[0,0,0];for(let e=0;e<3;e++)l=t+1/3*-(e-1),l<0&&l++,l>1&&l--,a=6*l<1?s+6*(o-s)*l:2*l<1?o:3*l<2?s+(o-s)*(2/3-l)*6:s,i[e]=255*a;return i},ee.hsl.hsv=function(e){const t=e[0];let n=e[1]/100,r=e[2]/100,o=n;const l=Math.max(r,.01);return r*=2,n*=r<=1?r:2-r,o*=l<=1?l:2-l,[t,100*(0===r?2*o/(l+o):2*n/(r+n)),(r+n)/2*100]},ee.hsv.rgb=function(e){const t=e[0]/60,n=e[1]/100;let r=e[2]/100;const o=Math.floor(t)%6,l=t-Math.floor(t),a=255*r*(1-n),s=255*r*(1-n*l),i=255*r*(1-n*(1-l));switch(r*=255,o){case 0:return[r,i,a];case 1:return[s,r,a];case 2:return[a,r,i];case 3:return[a,s,r];case 4:return[i,a,r];case 5:return[r,a,s]}},ee.hsv.hsl=function(e){const t=e[0],n=e[1]/100,r=e[2]/100,o=Math.max(r,.01);let l,a;a=(2-n)*r;const s=(2-n)*o;return l=n*o,l/=s<=1?s:2-s,l=l||0,a/=2,[t,100*l,100*a]},ee.hwb.rgb=function(e){const t=e[0]/360;let n=e[1]/100,r=e[2]/100;const o=n+r;let l;o>1&&(n/=o,r/=o);const a=Math.floor(6*t),s=1-r;l=6*t-a,0!=(1&a)&&(l=1-l);const i=n+l*(s-n);let c,u,d;switch(a){default:c=s,u=i,d=n;break;case 1:c=i,u=s,d=n;break;case 2:c=n,u=s,d=i;break;case 3:c=n,u=i,d=s;break;case 4:c=i,u=n,d=s;break;case 5:c=s,u=n,d=i}return[255*c,255*u,255*d]},ee.cmyk.rgb=function(e){const t=e[1]/100,n=e[2]/100,r=e[3]/100;return[255*(1-Math.min(1,e[0]/100*(1-r)+r)),255*(1-Math.min(1,t*(1-r)+r)),255*(1-Math.min(1,n*(1-r)+r))]},ee.xyz.rgb=function(e){const t=e[0]/100,n=e[1]/100,r=e[2]/100;let o,l,a;return o=3.2406*t+-1.5372*n+-.4986*r,l=-.9689*t+1.8758*n+.0415*r,a=.0557*t+-.204*n+1.057*r,o=o>.0031308?1.055*o**(1/2.4)-.055:12.92*o,l=l>.0031308?1.055*l**(1/2.4)-.055:12.92*l,a=a>.0031308?1.055*a**(1/2.4)-.055:12.92*a,o=Math.min(Math.max(0,o),1),l=Math.min(Math.max(0,l),1),a=Math.min(Math.max(0,a),1),[255*o,255*l,255*a]},ee.xyz.lab=function(e){let t=e[0],n=e[1],r=e[2];return t/=95.047,n/=100,r/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,[116*n-16,500*(t-n),200*(n-r)]},ee.lab.xyz=function(e){let t,n,r;n=(e[0]+16)/116,t=e[1]/500+n,r=n-e[2]/200;const o=n**3,l=t**3,a=r**3;return n=o>.008856?o:(n-16/116)/7.787,t=l>.008856?l:(t-16/116)/7.787,r=a>.008856?a:(r-16/116)/7.787,t*=95.047,n*=100,r*=108.883,[t,n,r]},ee.lab.lch=function(e){const t=e[0],n=e[1],r=e[2];let o;return o=360*Math.atan2(r,n)/2/Math.PI,o<0&&(o+=360),[t,Math.sqrt(n*n+r*r),o]},ee.lch.lab=function(e){const t=e[1],n=e[2]/360*2*Math.PI;return[e[0],t*Math.cos(n),t*Math.sin(n)]},ee.rgb.ansi16=function(e,t=null){const[n,r,o]=e;let l=null===t?ee.rgb.hsv(e)[2]:t;if(l=Math.round(l/50),0===l)return 30;let a=30+(Math.round(o/255)<<2|Math.round(r/255)<<1|Math.round(n/255));return 2===l&&(a+=60),a},ee.hsv.ansi16=function(e){return ee.rgb.ansi16(ee.hsv.rgb(e),e[2])},ee.rgb.ansi256=function(e){const t=e[0],n=e[1],r=e[2];return t===n&&n===r?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},ee.ansi16.rgb=function(e){let t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const n=.5*(1+~~(e>50));return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},ee.ansi256.rgb=function(e){if(e>=232){const t=10*(e-232)+8;return[t,t,t]}let t;return e-=16,[Math.floor(e/36)/5*255,Math.floor((t=e%36)/6)/5*255,t%6/5*255]},ee.rgb.hex=function(e){const t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},ee.hex.rgb=function(e){const t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let n=t[0];3===t[0].length&&(n=n.split("").map(e=>e+e).join(""));const r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},ee.rgb.hcg=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,o=Math.max(Math.max(t,n),r),l=Math.min(Math.min(t,n),r),a=o-l;let s,i;return s=a<1?l/(1-a):0,i=a<=0?0:o===t?(n-r)/a%6:o===n?2+(r-t)/a:4+(t-n)/a,i/=6,i%=1,[360*i,100*a,100*s]},ee.hsl.hcg=function(e){const t=e[1]/100,n=e[2]/100,r=n<.5?2*t*n:2*t*(1-n);let o=0;return r<1&&(o=(n-.5*r)/(1-r)),[e[0],100*r,100*o]},ee.hsv.hcg=function(e){const t=e[2]/100,n=e[1]/100*t;let r=0;return n<1&&(r=(t-n)/(1-n)),[e[0],100*n,100*r]},ee.hcg.rgb=function(e){const t=e[1]/100,n=e[2]/100;if(0===t)return[255*n,255*n,255*n];const r=[0,0,0],o=e[0]/360%1*6,l=o%1,a=1-l;let s=0;switch(Math.floor(o)){case 0:r[0]=1,r[1]=l,r[2]=0;break;case 1:r[0]=a,r[1]=1,r[2]=0;break;case 2:r[0]=0,r[1]=1,r[2]=l;break;case 3:r[0]=0,r[1]=a,r[2]=1;break;case 4:r[0]=l,r[1]=0,r[2]=1;break;default:r[0]=1,r[1]=0,r[2]=a}return s=(1-t)*n,[255*(t*r[0]+s),255*(t*r[1]+s),255*(t*r[2]+s)]},ee.hcg.hsv=function(e){const t=e[1]/100,n=t+e[2]/100*(1-t);let r=0;return n>0&&(r=t/n),[e[0],100*r,100*n]},ee.hcg.hsl=function(e){const t=e[1]/100,n=e[2]/100*(1-t)+.5*t;let r=0;return n>0&&n<.5?r=t/(2*n):n>=.5&&n<1&&(r=t/(2*(1-n))),[e[0],100*r,100*n]},ee.hcg.hwb=function(e){const t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},ee.hwb.hcg=function(e){const t=1-e[2]/100,n=t-e[1]/100;let r=0;return n<1&&(r=(t-n)/(1-n)),[e[0],100*n,100*r]},ee.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},ee.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},ee.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},ee.gray.hsl=function(e){return[0,0,e[0]]},ee.gray.hsv=ee.gray.hsl,ee.gray.hwb=function(e){return[0,100,e[0]]},ee.gray.cmyk=function(e){return[0,0,0,e[0]]},ee.gray.lab=function(e){return[e[0],0,0]},ee.gray.hex=function(e){const t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},ee.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]};const oe={};Object.keys(te).forEach(e=>{oe[e]={},Object.defineProperty(oe[e],"channels",{value:te[e].channels}),Object.defineProperty(oe[e],"labels",{value:te[e].labels});const t=function(e){const t=function(e){const t=function(){const e={},t=Object.keys(te);for(let n=t.length,r=0;r<n;r++)e[t[r]]={distance:-1,parent:null};return e}(),n=[e];for(t[e].distance=0;n.length;){const e=n.pop(),r=Object.keys(te[e]);for(let o=r.length,l=0;l<o;l++){const o=r[l],a=t[o];-1===a.distance&&(a.distance=t[e].distance+1,a.parent=e,n.unshift(o))}}return t}(e),n={},r=Object.keys(t);for(let e=r.length,o=0;o<e;o++){const e=r[o];null!==t[e].parent&&(n[e]=re(e,t))}return n}(e);Object.keys(t).forEach(n=>{const r=t[n];oe[e][n]=function(e){const t=function(...t){const n=t[0];if(null==n)return n;n.length>1&&(t=n);const r=e(t);if("object"==typeof r)for(let e=r.length,t=0;t<e;t++)r[t]=Math.round(r[t]);return r};return"conversion"in e&&(t.conversion=e.conversion),t}(r),oe[e][n].raw=function(e){const t=function(...t){const n=t[0];return null==n?n:(n.length>1&&(t=n),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(r)})});var le=oe,ae=function(e){var t={exports:{}};return function(e){const t=(e,t)=>(...n)=>`[${e(...n)+t}m`,n=(e,t)=>(...n)=>{const r=e(...n);return`[${38+t};5;${r}m`},r=(e,t)=>(...n)=>{const r=e(...n);return`[${38+t};2;${r[0]};${r[1]};${r[2]}m`},o=e=>e,l=(e,t,n)=>[e,t,n],a=(e,t,n)=>{Object.defineProperty(e,t,{get:()=>{const r=n();return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0}),r},enumerable:!0,configurable:!0})};let s;const i=(e,t,n,r)=>{void 0===s&&(s=le);const o=r?10:0,l={};for(const[r,a]of Object.entries(s)){const s="ansi16"===r?"ansi":r;r===t?l[s]=e(n,o):"object"==typeof a&&(l[s]=e(a[t],o))}return l};Object.defineProperty(e,"exports",{enumerable:!0,get:function(){const e=new Map,s={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};s.color.gray=s.color.blackBright,s.bgColor.bgGray=s.bgColor.bgBlackBright,s.color.grey=s.color.blackBright,s.bgColor.bgGrey=s.bgColor.bgBlackBright;for(const[t,n]of Object.entries(s)){for(const[t,r]of Object.entries(n))s[t]={open:`[${r[0]}m`,close:`[${r[1]}m`},n[t]=s[t],e.set(r[0],r[1]);Object.defineProperty(s,t,{value:n,enumerable:!1})}return Object.defineProperty(s,"codes",{value:e,enumerable:!1}),s.color.close="[39m",s.bgColor.close="[49m",a(s.color,"ansi",()=>i(t,"ansi16",o,!1)),a(s.color,"ansi256",()=>i(n,"ansi256",o,!1)),a(s.color,"ansi16m",()=>i(r,"rgb",l,!1)),a(s.bgColor,"ansi",()=>i(t,"ansi16",o,!0)),a(s.bgColor,"ansi256",()=>i(n,"ansi256",o,!0)),a(s.bgColor,"ansi16m",()=>i(r,"rgb",l,!0)),s}})}(t),t.exports}();const se=/(?:\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,ie=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,ce=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,ue=/\\(u(?:[a-f\d]{4}|{[a-f\d]{1,6}})|x[a-f\d]{2}|.)|([^\\])/gi,de=new Map([["n","\n"],["r","\r"],["t","\t"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e",""],["a",""]]);function me(e){const t="u"===e[0],n="{"===e[1];return t&&!n&&5===e.length||"x"===e[0]&&3===e.length?String.fromCharCode(parseInt(e.slice(1),16)):t&&n?String.fromCodePoint(parseInt(e.slice(2,-1),16)):de.get(e)||e}function he(e,t){const n=[],r=t.trim().split(/\s*,\s*/g);let o;for(const t of r){const r=Number(t);if(Number.isNaN(r)){if(!(o=t.match(ce)))throw new Error(`Invalid Chalk template style argument: ${t} (in style '${e}')`);n.push(o[2].replace(ue,(e,t,n)=>t?me(t):n))}else n.push(r)}return n}function pe(e){ie.lastIndex=0;const t=[];let n;for(;null!==(n=ie.exec(e));){const e=n[1];if(n[2]){const r=he(e,n[2]);t.push([e].concat(r))}else t.push([e])}return t}function fe(e,t){const n={};for(const e of t)for(const t of e.styles)n[t[0]]=e.inverse?null:t.slice(1);let r=e;for(const[e,t]of Object.entries(n))if(Array.isArray(t)){if(!(e in r))throw new Error(`Unknown Chalk style: ${e}`);r=t.length>0?r[e](...t):r[e]}return r}var ge=(e,t)=>{const n=[],r=[];let o=[];if(t.replace(se,(t,l,a,s,i,c)=>{if(l)o.push(me(l));else if(s){const t=o.join("");o=[],r.push(0===n.length?t:fe(e,n)(t)),n.push({inverse:a,styles:pe(s)})}else if(i){if(0===n.length)throw new Error("Found extraneous } in Chalk template literal");r.push(fe(e,n)(o.join(""))),o=[],n.pop()}else o.push(c)}),r.push(o.join("")),n.length>0)throw new Error(`Chalk template literal is missing ${n.length} closing bracket${1===n.length?"":"s"} (\`}\`)`);return r.join("")};const{stdout:be,stderr:_e}={stdout:!1,stderr:!1},{stringReplaceAll:ye,stringEncaseCRLFWithFirstIndex:ve}={stringReplaceAll:(e,t,n)=>{let r=e.indexOf(t);if(-1===r)return e;const o=t.length;let l=0,a="";do{a+=e.substr(l,r-l)+t+n,l=r+o,r=e.indexOf(t,l)}while(-1!==r);return a+=e.substr(l),a},stringEncaseCRLFWithFirstIndex:(e,t,n,r)=>{let o=0,l="";do{const a="\r"===e[r-1];l+=e.substr(o,(a?r-1:r)-o)+t+(a?"\r\n":"\n")+n,o=r+1,r=e.indexOf("\n",o)}while(-1!==r);return l+=e.substr(o),l}},{isArray:ke}=Array,we=["ansi","ansi","ansi256","ansi16m"],Ee=Object.create(null);class Ce{constructor(e){return Me(e)}}const Me=e=>{const t={};return((e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");e.level=void 0===t.level?be?be.level:0:t.level})(t,e),t.template=(...e)=>Be(t.template,...e),Object.setPrototypeOf(t,Ie.prototype),Object.setPrototypeOf(t.template,t),t.template.constructor=()=>{throw new Error("`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.")},t.template.Instance=Ce,t.template};function Ie(e){return Me(e)}for(const[e,t]of Object.entries(ae))Ee[e]={get(){const n=je(this,xe(t.open,t.close,this._styler),this._isEmpty);return Object.defineProperty(this,e,{value:n}),n}};Ee.visible={get(){const e=je(this,this._styler,!0);return Object.defineProperty(this,"visible",{value:e}),e}};const Pe=["rgb","hex","keyword","hsl","hsv","hwb","ansi","ansi256"];for(const e of Pe)Ee[e]={get(){const{level:t}=this;return function(...n){const r=xe(ae.color[we[t]][e](...n),ae.color.close,this._styler);return je(this,r,this._isEmpty)}}};for(const e of Pe)Ee["bg"+e[0].toUpperCase()+e.slice(1)]={get(){const{level:t}=this;return function(...n){const r=xe(ae.bgColor[we[t]][e](...n),ae.bgColor.close,this._styler);return je(this,r,this._isEmpty)}}};const Ne=Object.defineProperties(()=>{},E({},Ee,{level:{enumerable:!0,get(){return this._generator.level},set(e){this._generator.level=e}}})),xe=(e,t,n)=>{let r,o;return void 0===n?(r=e,o=t):(r=n.openAll+e,o=t+n.closeAll),{open:e,close:t,openAll:r,closeAll:o,parent:n}},je=(e,t,n)=>{const r=(...e)=>ke(e[0])&&ke(e[0].raw)?$e(r,Be(r,...e)):$e(r,1===e.length?""+e[0]:e.join(" "));return Object.setPrototypeOf(r,Ne),r._generator=e,r._styler=t,r._isEmpty=n,r},$e=(e,t)=>{if(e.level<=0||!t)return e._isEmpty?"":t;let n=e._styler;if(void 0===n)return t;const{openAll:r,closeAll:o}=n;if(-1!==t.indexOf(""))for(;void 0!==n;)t=ye(t,n.close,n.open),n=n.parent;const l=t.indexOf("\n");return-1!==l&&(t=ve(t,o,r,l)),r+t+o};let Oe;const Be=(e,...t)=>{const[n]=t;if(!ke(n)||!ke(n.raw))return t.join(" ");const r=t.slice(1),o=[n.raw[0]];for(let e=1;e<n.length;e++)o.push(String(r[e-1]).replace(/[{}\\]/g,"\\$&"),String(n.raw[e]));return void 0===Oe&&(Oe=ge),Oe(e,o.join(""))};Object.defineProperties(Ie.prototype,Ee);const Le=Ie();Le.supportsColor=be,Le.stderr=Ie({level:_e?_e.level:0}),Le.stderr.supportsColor=_e;var Te=Le;class Ae{get console(){return this.constructor.console}constructor(e){this.name=e}error(e){if(e instanceof Error){const t=new Error;t.message=e.message,t.trace=e.trace,t.name=`${this.name}.${e.name}`,this.console.error(t)}else this.console.error(Te.red(this.format(e)))}info(e){this.console.info(Te.white.bold(this.format(e)))}todo(e){this.console.info(Te.white.bold(`${this.format(e)} (todo)`))}debug(e){this.console.debug(this.format(e))}log(e){this.console.log(this.format(e))}hr(e=80,t="white"){this.info(Te.bold[t]("".padEnd(e,"-")))}header(e){this.info(Te.yellow.bold(`+${"".padEnd(78,"-")}+`)),this.info(Te.yellow.bold(`| ${e.padEnd(76)} |`)),this.info(Te.yellow.bold(`+${"".padEnd(78,"-")}+`))}format(e){return e="string"==typeof e?e:e instanceof Error?e.message:"object"!=typeof e?e:JSON.stringify(e,null,2),this.name?`${this.name}: ${e}`:e}}Ae.console=console;const Se={allow:function(e){this.listeners=this.listeners||{},this.listeners[e]=[]},on:function(e,t){if(void 0===this.listeners[e])throw new Error(`Unregistered event name "${e}"`);this.listeners[e].push(t)},emit:function(e,t){const n=(this.listeners||{})[e];if(void 0===n)throw new Error(`Unregistered event name "${e}"`);0!==n.length&&(this.listeners[e]||[]).forEach(async e=>{e(t)})},off:function(e,t){this.listeners[e]=this.listeners[e].filter(e=>t!==e)},once:function(e,t){const n=function(r){t(r),this.off(e,n)}.bind(this);this.on(e,n)}},Re={validate:!1,defaultValue:void 0,type:String};class De{get loggerGroup(){return"Util"}static parse(e){return new this(e)}static forEachProperty(e){Object.keys(this.properties).forEach(t=>{e(t,this.properties[t])})}static init(){this.forEachProperty((e,t)=>{this.defineModelProperty(e,t)})}static defineModelProperty(e,t){this.properties[e]=t=E({},Re,t),Object.defineProperty(this.prototype,e,{get:function(){return this.properties[e]},set:function(t){return this.setProperties({[e]:t})}})}constructor(e){this.logger=new Ae(`${this.loggerGroup}.${this.constructor.loggerName||this.loggerName||this.constructor.name}`),this.properties=Object.assign({},e),this.constructor.forEachProperty((e,t)=>{const n=this[e],r=t.defaultValue;this.allow(`changed:${e}`),void 0===n&&void 0!==r?this.properties[e]="function"==typeof r?r.call(this,this.properties):r:t.collection&&(this.properties[e]=new X({obj:this,type:t.type,records:this.properties[e]||[],property:e,definition:t}))}),this.constructor.events.allow.map(this.allow.bind(this))}setProperties(e={},{emit:t=!0}={}){const n=[];return Object.entries(e).forEach(([e,r])=>{const o=this[e];o!==r&&this.validateProperty(e,r)&&(this.properties[e]=r,t&&(n.push({property:e,oldValue:o,newValue:r}),this.emit(`changed:${e}`,{property:e,oldValue:o,newValue:r})))}),n.length>0&&this.emit("changed",{changes:n}),this}clone(e={}){return new this.constructor(E({},this.properties,e))}validateProperty(e,t){const n=this.constructor.properties[e];return"function"==typeof n.validate&&n.validate(t),n.oneOf&&function({property:e,value:t,definition:n}){if(-1===n.oneOf.indexOf(t))throw new TypeError(`${e} must be one of: ${n.oneOf.join(", ")}`)}({record:this,property:e,value:t,definition:n}),!0}validate(){return{errors:[],valid:!0}}}De.events={allow:["changed"]},(e=>{["on","allow","emit","once","off"].forEach(t=>{if(void 0!==e[t])throw new TypeError(`Object already has a ${t} property.`);e[t]=Se[t]})})(De.prototype);class Ge extends De{get loggerGroup(){return"Util"}get loggerName(){return"Task"}constructor(e){super({fn:e}),this.logger=new Ae(`${this.loggerGroup}.${this.loggerName}`),this.allow("run"),this.allow("progress"),this.allow("success"),this.allow("error"),this.allow("done"),this.on("success",this.done.bind(this)),this.on("error",this.done.bind(this))}succeed(e){this.emit("success",e),this.accept(e)}fail(e){this.emit("error",e),this.reject(e)}done(){this.emit("done")}progress(e){this.emit("progress",e)}async run(){return await new Promise((e,t)=>{this.emit("run"),this.accept=e,this.reject=t,this.fn(this).then(this.succeed.bind(this)).catch(this.fail.bind(this))})}}Ge.properties={fn:{}},Ge.init();var He={timeline:"_timeline-module__timeline__1YHYp",timelineLayer:"_timeline-module__timelineLayer__X1fJd",timelineMeasuresLayer:"_timeline-module__timelineMeasuresLayer__1a-CG",timelineMeasure:"_timeline-module__timelineMeasure__3M1vt",timelineMeasureIsVerbose:"_timeline-module__timelineMeasureIsVerbose__2zH-A",timelineMeasureIsPlayStart:"_timeline-module__timelineMeasureIsPlayStart__3lBbf",timelineMeasureIsWithinPlayLoop:"_timeline-module__timelineMeasureIsWithinPlayLoop__1iT1g",timelineCursorLayer:"_timeline-module__timelineCursorLayer__3av1t",timelineCursorPosition:"_timeline-module__timelineCursorPosition__6tr6P",timelineCursorMask:"_timeline-module__timelineCursorMask__2lpcu",timelineCursorSelection:"_timeline-module__timelineCursorSelection__nFsKB",timelineWaveformLayer:"_timeline-module__timelineWaveformLayer__324cr"};function We({measure:e=null,width:n=null,verbose:r=!0,playStart:o=!1,withinPlayLoop:l=!1}){return t.createElement("div",{className:[He.timelineMeasure,r?He.timelineMeasureIsVerbose:"",o?He.timelineMeasureIsPlayStart:"",l?He.timelineMeasureIsWithinPlayLoop:""].join(" "),style:{width:`${n}px`}},t.createElement("span",null,r?e:""))}function Fe({from:e=null,to:n=null,backgroundColor:r="rgba(255, 255, 255, 0.15)",borderColor:o="rgba(255, 255, 255, 0.5)",borderWidth:l=1}){let a=0,s=0;return e<n?(a=e,s=n-e):e>n&&(a=n,s=e-n),t.createElement(Ue,null,t.createElement("div",{className:He.timelineCursorSelection,style:{left:`${a}px`,width:`${s}px`,display:0===s?"none":"block",backgroundColor:`${r}`,borderLeft:`${l}px solid ${o}`,borderRight:`${l}px solid ${o}`,borderTop:`${l}px solid ${o}`,borderBottom:`${l}px solid ${o}`}}))}function qe({x:e=0,active:n=!1,color:r="#ffffff",label:o=null,width:l=2}){return t.createElement(Ue,{active:n},t.createElement("div",{className:He.timelineCursorPosition,style:{left:`${e+1}px`,backgroundColor:r,width:`${l}px`,color:r,display:n?"block":"none"}},t.createElement("span",null,o)))}function Ue({children:e=null,opacity:n=1,className:r=""}=(props={})){return t.createElement("div",{className:[He.timelineLayer,r].join(" "),style:{opacity:n}},e)}var ze={tabs:"_tabs-module__tabs__sse3X",tab:"_tabs-module__tab__MRgxN",tabIcon:"_tabs-module__tabIcon__28Ovc",tabLabel:"_tabs-module__tabLabel__L3nUA",tabClose:"_tabs-module__tabClose__YxLLZ",tabIsSelected:"_tabs-module__tabIsSelected__2XSHa",tabIsUnselected:"_tabs-module__tabIsUnselected__1XGu2"};function Ve({onClick:t=(()=>{}),icon:n=null}){return e.createElement("div",{className:ze.tabIcon,onClick:e=>{e.stopPropagation(),e.preventDefault(),t()}},n())}function Ke({label:t=null,onChange:n=(()=>{}),editable:r=!1}){return e.createElement("div",{className:[ze.tabLabel].join(" ")},r?e.createElement(K,{value:t,onChange:n}):t,e.createElement("div",{className:ze.tabLabelEllipsis}))}function Xe({onClick:t=(()=>{})}){return e.createElement("div",{className:[ze.tabClose].join(" "),onClick:e=>{e.stopPropagation(),e.preventDefault(),t()}},e.createElement(m,null))}module.exports={ConfirmModal:function({onClose:e=(()=>{}),title:n="Confirm",text:r="Text",confirmLabel:a="OK",cancelLabel:s="Cancel",showProgress:i=!1,initialProgress:c=.01}){const[u,d]=o(c),[m,h]=o(!1),[p,f]=o(),[g,b]=o(arguments[0].task);return l(()=>{g.on("run",()=>{i||d(1),h(!0)}),g.on("progress",e=>{d(e)}),g.on("success",e),g.on("error",e=>{f("Something went wrong."),h(!1)})}),t.createElement(V,{title:n,text:r,error:p,working:m,workingPercentComplete:u,onRequestClose:e,buttons:[{label:a,onClick:()=>{g.run(),b(g)},primary:!0},{label:s,onClick:e}]})},Console:function({level:e="debug",levelFilters:n=v}){const{logs:r}=w();return t.createElement("div",{className:"_console-module__console__cH_HF"},t.createElement(s,{logs:r,filter:n[e],variant:"dark"}))},ConsoleProvider:function({target:e=null,children:n=null}={}){const[r,a]=o([]);return l(()=>(i(e,e=>a(t=>[...t,e]),!1),()=>{a([]),c(e)}),[e]),t.createElement(k.Provider,{value:{logs:r,setLogs:a}},n)},DialogModal:V,Editable:K,IconButton:function({icon:e=null,color:n=null,onClick:r=(()=>{})}){return t.createElement(y,{onClick:r,color:n,narrow:!0},e())},Keyboard:function({scale:e=null,emitter:n=null,device:r=null,instrument:a=null,onPlayNote:s=(({note:e})=>{console.log(e)})}){const[i,c]=o(!1);function u(){c(!1)}function d({note:e,type:t}=(message={})){"noteon"===t&&s({note:e})}return l(()=>{if(r)return r.on("message",d),()=>{r.off("message",d)}},[r,a]),t.createElement("div",{onMouseDown:function(){c(!0)},onMouseUp:u,onMouseLeave:u,className:C.keyboard},[6,5,4,3,2,1,0].map(r=>t.createElement($,{key:r,octave:r,scale:e,playOnHover:i,emitter:n,onPlayNote:s})))},LoadingBar:O,Menu:function({children:e=null,before:n=(()=>""),after:r=(()=>""),items:l=[]}){const[a,s]=o(null);return t.createElement("div",{className:[R.menu].join(" ")},n?n():"",l.map(e=>t.createElement(H,{key:e.label,label:e.label,dropdown:e.dropdown,active:a===e.label,onClick:()=>{s(a===e.label?null:e.label)}})),t.createElement("div",{onClick:()=>s(null),style:{flex:1}}),e,r?r():"",t.createElement(G,{onClick:()=>s(null),active:!!a}))},MenuDropdownDivider:function({}){return t.createElement("div",{className:R.dropdownDivider})},MenuDropdownHeader:function({label:e=null}){return t.createElement("div",{className:R.dropdownHeader},e)},MenuDropdownItem:function({label:e=null,href:n=null,tooltip:r=null,icon:o=null,disabled:l=!1,onClick:a=(()=>!0)}){return t.createElement("div",{className:[R.dropdownItem,l?R.dropdownItemIsDisabled:""].join(" ")},t.createElement("a",{href:n,onClick:a,title:r,target:n?"_blank":""},t.createElement("span",null,o?o():""),t.createElement("span",null,e)))},MenuDropdownMask:G,MenuItem:H,Modal:z,Panel:function({label:e="Panel",children:n=null,onClose:r=null,flex:o="none",width:l="auto",height:a="auto",disabled:s=!1,transparent:i=!1,sticky:c=!1,noscroll:u=!1,filter:d=null,streaming:m=!1}){return t.createElement("div",{style:{flex:o,width:l,height:a},className:[B.panel,i?B.panelIsTransparent:"",s?B.panelIsDisabled:""].join(" ")},t.createElement(L,{label:e,onClose:r,sticky:c}),d?t.createElement(A,null,d()):"",t.createElement(T,{noscroll:u,streaming:m},n),s?t.createElement(S,null):"")},PanelFilter:A,PanelFilterRow:function({children:e=null}){return t.createElement("div",{className:B.panelFilterRow},e)},Panels:function({columns:e={}}){const{layout:n,tiles:r}=function(e){let t,n;function r(e,{splitPercentage:t}){return 0===e.length?null:1===e.length?e[0].id:{direction:"column",splitPercentage:t,first:e[0].id,second:e[1].id}}return e.left=e.left.filter(e=>e.enabled),e.center=e.center.filter(e=>e.enabled),e.right=e.right.filter(e=>e.enabled),t=0===e.left.length?{direction:"row",splitPercentage:80,first:r(e.center,{splitPercentage:80}),second:r(e.right,{splitPercentage:25})}:{direction:"row",splitPercentage:20,first:r(e.left,{splitPercentage:33}),second:0===e.right.length?r(e.center,{splitPercentage:50}):{direction:"row",splitPercentage:75,first:r(e.center,{splitPercentage:50}),second:r(e.right,{splitPercentage:25})}},n=Object.entries(e).reduce((e,[t,n])=>(n.forEach(t=>{e[t.id]=t.component}),e),{}),{layout:t,tiles:n}}(e);return t.createElement(f,{renderTile:e=>r[e],className:"",initialValue:n})},Patches:function({patches:e=[],instruments:n=[],tracks:r=[],effects:o=[]}){const l=[{id:"track:main",label:"Main",color:"#F94144"}],a=[];return n.forEach(e=>{l.push({id:`instrument:${e.name}`,group:"Instruments",label:e.name})}),r.forEach(e=>{l.push({id:`track:${e.name}`,group:"Tracks",label:e.name})}),o.forEach(e=>{l.push({id:`effect:${e.name}`,group:"Effects",label:e.name})}),e.forEach(e=>{a.push({from:`${e.inputType}:${e.input}`,to:`${e.outputType}:${e.output}`})}),t.createElement("div",{className:"_patches-module__patches__1WSgZ"},t.createElement(u,{graph:{nodes:l,edges:a},options:{interaction:{navigationButtons:!0,zoomSpeed:.5},layout:{},groups:{Instruments:{color:"rgb(46, 207, 235)"},Tracks:{color:"rgb(243, 114, 44)"},Effects:{color:"#90be6d"}},nodes:{shape:"box",shapeProperties:{borderRadius:2}},edges:{color:"#ffffff"},height:"100%"},events:{select:function(e){}},getNetwork:e=>{}}))},Select:function({children:e=null,label:n=null,onChange:r=(()=>{}),value:o=null,span:l=1}){return t.createElement(_,{type:"select",flex:l},n?t.createElement("label",null,n,":"):"",t.createElement("select",{value:o,onChange:e=>r(e.target.value)},e))},Tab:function({label:t=null,icon:n=null,onIconClick:r=(()=>{}),onTabClick:o=(()=>{}),onCloseClick:l=(()=>{}),onRename:a=(()=>{}),selected:s=!1,close:i=!0,children:c}){return e.createElement("div",{onClick:e=>{s||o(e)},className:[ze.tab,s?ze.tabIsSelected:ze.tabIsUnselected].join(" ")},c||e.createElement(e.Fragment,null,n?e.createElement(Ve,{onClick:r,icon:n}):"",t?e.createElement(Ke,{label:t,editable:s,onChange:a}):"",i?e.createElement(Xe,{onClick:l}):""))},Tabs:function({children:t}){return e.createElement("div",{className:ze.tabs},t)},TabLabel:Ke,TabIcon:Ve,TabClose:Xe,Timeline:function({children:e=null}){return t.createElement("div",{className:He.timeline},e)},TimelineCursorLayer:function({color:e="#ffffff",initialX:n=0,snap:r=!1,snapTo:l=15,interactive:a=!1,onSelect:s=(()=>{})}=(props={})){const[i,c]=o(n),[u,d]=o(!a),[m,h]=o(null),[p,f]=o(null);function g(e){const t=e.offsetParent?g(e.offsetParent):{left:0,top:0};return{left:e.offsetLeft+t.left,top:e.offsetTop+t.top}}return t.createElement(Ue,{className:He.timelineCursorLayer},t.createElement(Fe,{active:u,from:m,to:p}),t.createElement(qe,{active:u,x:i,label:(b=i,`${Math.floor(b/l)}:0`),color:e}),a?t.createElement("div",{className:He.timelineCursorMask,onMouseEnter:function(e){d(!0)},onMouseLeave:function(e){h(null),f(null),d(!1)},onMouseMove:function(e){const t=g(e.target),n=(o=e.clientX-t.left,r?Math.floor(o/l)*l:o);var o;c(n),m&&f(n)},onMouseDown:function(e){h(i),f(i)},onMouseUp:function(e){m<p?s(m,p):s(p,m),h(null),f(null)}}):"");var b},TimelineCursorPointerLayer:qe,TimelineCursorSelectionLayer:Fe,TimelineMeasuresLayer:function({renderer:e,measureWidth:n=null,labelInterval:r=10,length:o=50}){return t.createElement(Ue,{className:He.timelineMeasuresLayer},(l=o=>t.createElement(We,{key:o,measure:o,renderer:e,width:n,verbose:o%r==0}),Array.from(Array(o)).map((e,t)=>l(t))));var l},TimelineWaveformLayer:function({waveform:e=[],color:n="rgb(60, 60, 60)",clipColor:r="rgb(150, 60, 60)",clipThreshold:o=1,showClipping:s=!0,opacity:i=1,measureWidth:c=null,duration:u=null,unitsPerSecond:d=null}){const m=a(null),h=d*u;return console.log(`width=${h} measureWidth=${c} samples=${e.length} duration=${u} unitsPerSecond=${d}`),l(()=>{const t=m.current,l=t.getContext("2d"),a=t.height;l.clearRect(0,0,t.width,t.height);const i=Math.ceil(e.length/h),c=a/2;for(let t=0;t<h;t++){let a=1,u=-1,d=!1;for(let n=0;n<i;n++){const r=e[t*i+n];s&&(isNaN(r)||Math.abs(r)>o)&&(d=!0),r=isNaN(r)?0:r,r=r>1?1:r,r=r<-1?-1:r,r<a&&(a=r),r>u&&(u=r)}l.fillStyle=d?r:n,l.fillRect(t,(1+a)*c,1,Math.max(1,(u-a)*c))}},[m,n,e,u]),t.createElement(Ue,{opacity:i,className:He.timelineWaveformLayer},t.createElement("canvas",{ref:m,style:{width:`${h}px`}}))},Tree:function({children:e=null}){return t.createElement("div",{className:W.tree},e)},TreeGroup:function({label:e="Group",children:n=null}){const[r,l]=o(!1);return t.createElement("div",{className:[W.treeGroup,r?W.treeGroupIsOpen:""].join(" ")},t.createElement(F,{onClick:()=>l(!r),icon:r?h:p,label:e}),t.createElement(q,null,n))},TreeGroupItems:q,TreeItem:F,useConsoleLogs:w,useEventListener:function(e,t,n){l(()=>(e.on(t,n),()=>{e.off(t,n)}),[e])}};
//# sourceMappingURL=index.modern.js.map
